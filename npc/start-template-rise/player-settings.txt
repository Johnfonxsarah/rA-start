bl_depth2,151,159,4	script	ตั้งค่า	10372,{
	L_Menu:
	menu
	"ดูคำสั่งที่ใช้ได้",L_Commands,
	"แสดง % Drop [" + (!#isSkipVerboseLog ? "^1c9311ON^000000" : "^d32323OFF^000000") + "]",L_VerboseLog,
	"เปลี่ยน Password",L_ChangePassword,
	"เพิ่ม Level Guild",MenuGetGuildLevel,
	"ลบของที่เป็นตัว X",MenuDeleteNormalItem
	;
	end;
	
	L_Commands:
	mes " [@load] กลับไปสู่ Save Point";		
	mes " [@who] ดูว่ามีใครเล่นเกมอยู่บ้าง";
	mes " [@time] บอกเวลา Server";
	next;
	goto L_Menu;
	
	L_VerboseLog:
	#isSkipVerboseLog = !#isSkipVerboseLog;
	goto L_Menu;
	
	L_ChangePassword:
	.@accountId = getcharid(3);
	query_sql("SELECT login.account_id FROM login WHERE login.account_id = " + .@accountId,.@id);
	if(!.@id){
		mes "ไม่พบ ID ของคุณ";
		close;
	}
	input .@newPassword$;
	if((.@newPassword$ == "") || (.@newPassword$ == " ") || (charat(.@newPassword$,0) == " "))
	{
		mes "โปรดระบุ Password";
		close;
	}
	query_sql("UPDATE login SET user_pass = " + .@newPassword$ + " WHERE login.account_id = " + .@accountId);
	mes "เปลี่ยน Password เรียบร้อยแล้ว";
	next;
	goto L_Menu;
	
MenuGetGuildLevel:
	atcommand "@guildlvup 50";
	goto L_Menu;
	
MenuDeleteNormalItem:
	getinventorylist;
	freeloop(1);
	for(.@i = 0; .@i < @inventorylist_count; .@i++){
		if(@inventorylist_favorite[.@i] || @inventorylist_equip[.@i] || @inventorylist_expire[.@i])
		continue;
		
		.@itemId = @inventorylist_id[.@i];

		if(.@itemId >= 20000000)
		continue;
		
		.@itemAmount = @inventorylist_amount[.@i];

		delitemidx @inventorylist_idx[.@i];
	}
	freeloop(0);
	end;
	
OnInit:
	waitingroom strnpcinfo(0),0;
	end;
}