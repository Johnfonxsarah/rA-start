-	script	TestDamage	-1,{
	end;
	
OnInit:
	freeloop(1);
	for(.@i = 0; .@i < 25; .@i++)
	callsub(OnSpawnMore);
	freeloop(0);
	//initnpctimer;
	end;
	
	/*OnTimer1000:
	getunitdata .GID,.t;
	announce .t[UMOB_DAMAGETAKEN] + " - " + .t[UMOB_RANK] + " - " + .t[UMOB_MAXHP],bc_all;
	initnpctimer;
	end;*/
	
OnMonsterDead:
	callsub(OnSpawnMore);
	end;
	
OnSpawnMore:
	// Get available cell to spawn
	getfreecell "bl_depth2",.@rX,.@rY,215,220,rand(5,15),rand(5,15);
	// Spawn
	monster "bl_depth2",.@rX,.@rY,"ทดสอบ",2411,1,strnpcinfo(0) + "::OnMonsterDead";
	.GID = $@mobid[0];
	.@mHP = 2000000000;
	setunitdata .GID,UMOB_HP,.@mHP;
	setunitdata .GID,UMOB_DMGIMMUNE,0;
	setunitdata .GID,UMOB_DAMAGETAKEN,rand(1,100);
	setunitdata .GID,UMOB_RANK,rand(0,100);
	return;
}

bl_depth2,149,145,5	script	ทดสอบ Damage	10557,30,30,{
	mes "ระบุ % ล้า";
	next;
	input .@debuff;
	mes "ระบุ % Effect เสื่อม";
	input .@effectDebuff;
	
	tired = cap_value(.@debuff,0,100);
	bonusDebuff = cap_value(.@effectDebuff,0,100);
	
	callfunc("ApplyTired");
	
	setpcblock PCBLOCK_SKILL,false;
	warp strcharinfo(3),215,220;
	end;
	
OnTouch:
	setpcblock PCBLOCK_SKILL,true;
	end;
}
